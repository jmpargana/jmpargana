{"version":3,"file":"mergeWith.js","sources":["../../../src/utils/mergeWith.ts"],"sourcesContent":["import type { Obj } from '../types';\nimport { _cloneDeep } from './cloneDeep';\nimport { _isPlainObject } from './isPlainObject';\nimport { deepSet } from './deepSet';\n\n/** @ignore */\nexport function _mergeWith<T extends Obj>(...args: any[]): T {\n  const customizer = args.pop();\n  const obj = _cloneDeep(args.shift());\n  if (args.length === 0) return obj;\n  for (const source of args) {\n    if (!source) continue;\n    let rsValue = customizer(obj, source);\n    if (typeof rsValue !== 'undefined') return rsValue;\n    const keys = Array.from(\n      new Set(Object.keys(obj).concat(Object.keys(source)))\n    );\n    for (const key of keys) {\n      rsValue = customizer(obj[key], source[key]);\n      if (typeof rsValue !== 'undefined') {\n        obj[key] = rsValue;\n      } else if (_isPlainObject(source[key]) && _isPlainObject(obj[key])) {\n        obj[key] = _mergeWith(obj[key], source[key], customizer);\n      } else if (Array.isArray(source[key])) {\n        obj[key] = source[key].map((val: Obj, i: number) => {\n          if (!_isPlainObject(val)) return val;\n          const newObj = Array.isArray(obj[key]) ? obj[key][i] : obj[key];\n          return _mergeWith(newObj, val, customizer);\n        });\n      } else if (_isPlainObject(source[key])) {\n        const defaultObj = deepSet(_cloneDeep(source[key]), undefined);\n        obj[key] = _mergeWith(defaultObj, source[key], customizer);\n      } else if (typeof source[key] !== 'undefined') {\n        obj[key] = source[key];\n      }\n    }\n  }\n  return obj;\n}\n"],"names":[],"mappings":";;;;AAKA;SACgB,UAAU,CAAgB,GAAG,IAAW;IACtD,MAAM,UAAU,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IAC9B,MAAM,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;IACrC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC;QAAE,OAAO,GAAG,CAAC;IAClC,KAAK,MAAM,MAAM,IAAI,IAAI,EAAE;QACzB,IAAI,CAAC,MAAM;YAAE,SAAS;QACtB,IAAI,OAAO,GAAG,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QACtC,IAAI,OAAO,OAAO,KAAK,WAAW;YAAE,OAAO,OAAO,CAAC;QACnD,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CACrB,IAAI,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CACtD,CAAC;QACF,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;YACtB,OAAO,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAC5C,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;gBAClC,GAAG,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;aACpB;iBAAM,IAAI,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;gBAClE,GAAG,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,EAAE,UAAU,CAAC,CAAC;aAC1D;iBAAM,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;gBACrC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAQ,EAAE,CAAS;oBAC7C,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;wBAAE,OAAO,GAAG,CAAC;oBACrC,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;oBAChE,OAAO,UAAU,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;iBAC5C,CAAC,CAAC;aACJ;iBAAM,IAAI,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;gBACtC,MAAM,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;gBAC/D,GAAG,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,GAAG,CAAC,EAAE,UAAU,CAAC,CAAC;aAC5D;iBAAM,IAAI,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,WAAW,EAAE;gBAC7C,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;aACxB;SACF;KACF;IACD,OAAO,GAAG,CAAC;AACb;;;;"}